# IPFS星际文件系统、挖矿与健康医疗
[TOC]

## 基本信息

时间：2018-3-19
地点：上南路886号2楼800弄校友咖啡
参会：汪键
纪要：汪键

## 核心观点

- 张东光: 公链技术预计要到2019年才能逐渐接口稳定
- 张东光: 区块链确权可以从“长尾理论”理解，头部数据很难

- 龙清扬: IPFS是一个伟大的产品
- 龙清扬: IPFS产品已经可用，叠加的Firecoin有非常多的困难
- 龙清扬: Firecoin的困难都在于分布式，可以考虑前期中心话，再慢慢分布
- 龙清扬: **奖励点燃分享**

## 信息
- 有人在做第三方的全网用户行为分析+区块链确权
- 去中心化的打车，代码调度，自组织（微众结构）
  - ?汪键：分布式调度如何实现？集中调度的资源从何而来？

## 交流内容

### 以太坊介绍

- 主讲：张东光
- 身份：云秦医疗科技有限公司创始人 RaveSky
- 当前项目：**医学数据的自动交易市场（小数据确权）**
  - 模型描述
  - 对象定义
  - 沙盒验证
  - 收集支付
  - 发现机制还没有定义

- 身份认证系统：戒指一样的小设备确认身份

#### 以太坊相关观点
- 两个方向： 完全去中心化 和 代码就是中心
- DAO： 一切交给代码，一个神，一个新的国度
- 整个以太坊生态链的构造不去中心化，V神可以做很多事情（参看Dao事件)，团队、国家
- 第一共识 <!-- TODO: Guyikang 什么是以太坊的第一共识 -->
- 当前有一个问题：算力和权益的转换，无论什么计算，支付的Gas一样多

### [IPFS介绍](../../公链/IPFS/IPFS概要.md)

- 主讲: 龙清扬
- 身份: 国防科技大学计算机系硕士，上海交大计算机博士

#### IPFS的技术基础

- [分布式哈希表(DHTs)](../../基础知识/DHT.md)
  - Kademlia DHT
  - BitTorrent的MainlineDHT
- 块交换
  - 分发各自的文件数据片，优先发送稀有片段
  - bit-for-tat的激励策略
- 版本控制系统 - Git
  - [Merkle DAG对象模型](../../基础知识/MerkleDAG.md)
  - 不可更改的对象表示
  - 内容加密哈希作为寻址
  - 指针引用links
  - 版本改变只是更新引用或者添加对象
- 自验证文件系统-SFS
  - 分布式信任链
  - 平等共享的全局命名空间

#### IPFS的设计

节点对等系统，按功能分成一下的协议栈

1. 身份: 管理节点的创建和认证。NodeId标识。
2. 网络: 通过可配置的不同的底层网络协议，管理节点之间连接
3. 路由: 维护定位特定对等节点信息表。对应本地和远端查询。默认是DHT，可以替换
4. 交换: 一个新奇的块交换协议（BitSwap），用来管理块分发效率，模拟市场，轻微刺激数据复制。交易策略可替换
5. 对象: 一个对应链接的以内容寻址的不可改变的[Merkle DAG对象](../../基础知识/MerkleDAG.md)。可以表示任意数据结构，例如， 文件层级结构和通信系统
6. 文件: 受Git启发的文件版本管理系统
7. 自我认证的可变命名系统

#### 网络传输

- 传输: IPFS可以使用任何传输协议，如[WebRTC](../../核心技术/传输协议/WebRTC.md) 和 [uTP](../../核心技术/传输协议/uTP.md)
- 可靠性: 如果底层网络不保证可靠性，IPFS可以使用[uTP](../../核心技术/传输协议/uTP.md)或者[SCTP](../../核心技术/传输协议/SCTP.md)来保证
- 链接: IPFS还睡用ICE NAT穿透技术。
- 完整性: 使用哈希校验和检查消息的完整性
- 真实性: 可以使用发送者的公钥和HMAC来检查消息的真实性

#### Merkle DAG

- 内容寻址: 所有内容（包括链接）都由其多哈希校验和进行唯一标识
- 防篡改: 所有内容都使用其校验和进行验证，如果数据被篡改或者损坏，则IPFS会检测到该数据
- 去冗余: 所有内容完全相同的对象，只存证一次，这对索引对象特别有用，比如 git tree 和 commits, 或者是公共部分数据。
- 作为一个数据库: 应用可以直接将数据写入Merkle DAG数据模型中
- 作为一个linked（和加密的）通信平台
- 作为一个大文件的完整性检查CDN（不使用SSL的情况下）
- 作为一个加密的CDN
- 在网页上，作为一个web CDN
- 作为一个links永远存在新的永恒的Web

#### IPFS已实现目标

1. 一个IPFS库可以到处到自己的应用中使用
2. 命令行工具可以直接操作对象
3. 使用FUSE或者内核的模块挂载文件系统

- 安装

```bash
go get -u -d github.com/ipfs/go-ipfs
cd $GOPATH/src/github.com/ipfs/go-ipfs
make install
```

- 初始化

```bash
ipfs init
```

- 加入IPFS网络

```bash
ipfs daemon
```

- 获取内容
  - `ipfs cat /ipfs/...../readme`
  - `http://localhost:5001/ipfs/..../readme`
  - `ipfs:/`

- 发布内容
  `ipfs add hello.jpg`

