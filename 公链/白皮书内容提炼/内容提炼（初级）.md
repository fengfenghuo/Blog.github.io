# 内容提炼

## 比特币存在技术

1. 分布式账本
2. 共识机制 PoW
3. 智能合约
4. 非对称加密和授权机制

## 比特币存在技术问题

1. 交易处理能力，全网每秒7笔
2. 区块产生时间，每10分钟一个块
3. 交易确认问题，等待6个区块后才被确认
4. 容量问题，目前产生40多万个区块，约60GB

## 比特币最新技术

### IBLT（可逆式布鲁姆查找表Invertible Bloom Lookup table）

**现状**
比特币交易，通过节点到节点来完成对等式网络交易，然后通过个人节点的内存池进行存储，矿工发现一个区块后，包含交易，会在对等的网络中广播该区块。

**问题**
区块中所有交易，有效的在网络上发送两次，一次作为交易，另一次作为区块的一部分的广播，但是大多数节点已经知道区块的一部分包含内容。

**解决原理**
1) 区块中所有交易都会写入一个表中，对于无法访问交易数据的人而言，IBLT无法读取，无法破解
2) 拥有交易数据的人，通过使用类似逻辑将交易填充到一个IBLT中，然后比较IBLT重叠交易数据，相同交易抵消一方。

### 隔离见证：

每一个比特币交易包含两部分：第一部分转账记录，第二部分用来见证这个交易的合法性（签名），即交易状态和见证。
初始比特币没有把两部分分开处理，导致交易ID的计算混合了交易和见证。见证本身包含签名，而签名不可能对其自身进行签名，因此见证可以由信任人在未得到交易双方同意的情况下改变，导致未确认交易的不安全性。
处理方案：交易ID由交易状态决定，不受见证部分的影响。
处理结果：

1. 可以用软分叉增加最大区块容量；
2. 只有发出交易的人才有可能改变交易ID，可以保障一连串未确认交易的有效性，是双向支付通道和闪电网络所具备的功能。有了双向支付通道和闪电网络，二人或多人间可进行无限次交易，无需把大量零碎交易放到区块链上，降低区块空间压力。
3. 轻量钱包可以变得更轻量，因无需在接受见证数据
4. 改善签名结构

### 闪电网络：

提供一个可以拓展的微支付通道网络。
交易双方若在区块链上预先设有支付通道，就可多次、高频、双向地实现瞬间确认微支付。双方若无直接点对点支付通道，只要网络中存在一条联通双方的、由多个支付通道构成的支付路径，也可实现资金在双方间的可靠转移

RSMC（Recoverable Sequence Maturity Contract）
定义了双向微支付通道的最基本的工作方式。

HTLC（Hashed Timelock Contract）
RSMC只支持最简单的无条件资金支付，HTLC则进一步实现了有条件的资金支付，通道余额的分配方式也更为复杂。

### 共识机制：

PoW：工作量证明->PoS（权益证明）：用以解决PoW中大量资源被浪费->DPoS（授权股权证明机制）：股东投票选出一个董事会，只有董事会成员才有资格进行代理记账

侧链：
允许资产在比特币区块链和其他区块链之间互转

比特币作为主链，其他区块链作为侧链，二者通过双向挂钩，实现比特币从主链转移到侧链进行流通

侧链不能发行，可按需定制账本、共识机制、交易类型、脚本和合约支持

## 以太坊：可编程区块链

相比于比特币，以太坊每个网络节点都运行着一个以太坊虚拟机，完整节点中还多了静态代码，与之相关的账户信息和代码此时的状态
相比比特币，以太坊区块链技术特点：

1. 支持图灵完备的智能合约，设计了编程语言Solidity和虚拟机EVM；
2. 选用了内存需求较高的哈希函数，避免出现强算力矿机、矿池攻击；
3. 叔块（uncle block）激励机制，降低矿池的优势，并减少了区块产生间隔（10分钟降低为15秒左右）
4. 采用账户系统和世界状态，而不是UTXO，容易支持更复杂的逻辑
5. 通过Gas限制代码执行指令数，避免循环执行攻击；
6. 支持PoW共识算法（改进Pow应用Ethash协议作为共识机制），并计划支持效率更高PoS算法
7. 计划通过分片方式来解决网络可拓展性问题

智能合约：以计算机程序的方式来缔结和运行各种合约。->去中心化
账户：比特币没有账户而采用UTXO模型记录系统状态，导致可通过交易历史推算出用户余额。以太坊以账户记录系统状态，存储余额信息、智能代码和内部数据等。支持不同账户间转移数据。

## DeepOnion

比特币缺陷：比特币交易会泄露你的IP地址和身份等隐私；随着区块链规模的扩大（由于BTC的年龄和交易次数）比特币交易完成的时间会越来越长，目前单块的确认时间为350分钟。由于大多数服务需要至少6次确认才能验证，所以多达35小时的时间才能发送和接收付款。

洋葱的主要特点和优势所在，概括为三个词，即：匿名、安全和快速。

技术：PoS + x13算法（13轮哈希）
好处：比单一算法更安全

## DFINITY

DFINITY是一个与以太坊兼容的智能合约平台，引入了一系列革命性的想法来解决性能、扩展性和治理的问题。
DFINITY是PoS系统，使用概率插槽协议可提高25每区块事务数，使用安全分布式密钥生成（DKG）协议，使组成员可以不依赖中心化PKI生成组签名密钥。采用区块链神经元系统（BNS），具有大量管理的能力。

## 应用：

以以太坊为基础的众筹项目：DAO-去中心化分布式基金，用于投资各类区块链项目

AskCoin系统是专为知识共享平台设计的区块链基础设施
