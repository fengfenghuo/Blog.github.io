# 区块链核心技术概况

[TOC]

## 区块链技术组成

- [分布式算法](组网拓扑/分布式算法简要介绍.md)：交易记账由分布在不同地方的多个节点共同完成，而且每一个节点都记录的是完整的账目，因此它们都可以参与监督交易合法性，同时也可以共同为其作证。

- [共识机制](共识算法/区块链共识机制简要介绍.md)：所有记账节点之间怎么达成共识，去认定一个记录的有效性，这既是认定的手段，也是防止篡改的手段。区块链提出了四种不同的共识机制，适用于不同的应用场景，在效率和安全性之间取得平衡。

- [智能合约](智能合约/智能合约简要介绍.md)：基于这些可信的不可篡改的数据，可以自动化的执行一些预先定义好的规则和条款。

- [非对称加密和授权机制](加密技术/加密技术简要介绍.md)：存储在区块链上的交易信息是公开的，但是账户身份信息是高度加密的，只有在数据拥有者授权的情况下才能访问到，从而保证了数据的安全和个人的隐私。

## 区块链技术的发展

### IBLT（可逆式布鲁姆查找表Invertible Bloom Lookup table）

**现状**：
比特币交易，通过节点到节点来完成对等式网络交易，然后通过个人节点的内存池进行存储，矿工发现一个区块后，包含交易，会在对等的网络中广播该区块。

**问题**：
区块中所有交易，有效的在网络上发送两次，一次作为交易，另一次作为区块的一部分的广播，但是大多数节点已经知道区块的一部分包含内容。

**解决原理**：
1) 区块中所有交易都会写入一个表中，对于无法访问交易数据的人而言，IBLT无法读取，无法破解
2) 拥有交易数据的人，通过使用类似逻辑将交易填充到一个IBLT中，然后比较IBLT重叠交易数据，相同交易抵消一方。

### 隔离见证：

每一个比特币交易包含两部分：第一部分转账记录，第二部分用来见证这个交易的合法性（签名），即交易状态和见证。
初始比特币没有把两部分分开处理，导致交易ID的计算混合了交易和见证。见证本身包含签名，而签名不可能对其自身进行签名，因此见证可以由信任人在未得到交易双方同意的情况下改变，导致未确认交易的不安全性。
处理方案：交易ID由交易状态决定，不受见证部分的影响。
处理结果：

1. 可以用软分叉增加最大区块容量；
2. 只有发出交易的人才有可能改变交易ID，可以保障一连串未确认交易的有效性，是双向支付通道和闪电网络所具备的功能。有了双向支付通道和闪电网络，二人或多人间可进行无限次交易，无需把大量零碎交易放到区块链上，降低区块空间压力。
3. 轻量钱包可以变得更轻量，因无需在接受见证数据
4. 改善签名结构

### 闪电网络：

提供一个可以拓展的微支付通道网络。
交易双方若在区块链上预先设有支付通道，就可多次、高频、双向地实现瞬间确认微支付。双方若无直接点对点支付通道，只要网络中存在一条联通双方的、由多个支付通道构成的支付路径，也可实现资金在双方间的可靠转移

RSMC（Recoverable Sequence Maturity Contract）
定义了双向微支付通道的最基本的工作方式。

HTLC（Hashed Timelock Contract）
RSMC只支持最简单的无条件资金支付，HTLC则进一步实现了有条件的资金支付，通道余额的分配方式也更为复杂。

### 共识机制：

PoW：工作量证明->PoS（权益证明）：用以解决PoW中大量资源被浪费->DPoS（授权股权证明机制）：股东投票选出一个董事会，只有董事会成员才有资格进行代理记账

### 侧链：

允许资产在比特币区块链和其他区块链之间互转

比特币作为主链，其他区块链作为侧链，二者通过双向挂钩，实现比特币从主链转移到侧链进行流通

侧链不能发行，可按需定制账本、共识机制、交易类型、脚本和合约支持
